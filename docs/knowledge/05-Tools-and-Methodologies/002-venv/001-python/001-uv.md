# uv å®Œå…¨æŒ‡å—ï¼šPython åŒ…ç®¡ç†çš„é©å‘½æ€§å·¥å…·

## ðŸš€ ä»€ä¹ˆæ˜¯ uvï¼Ÿ

**uv** æ˜¯ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„**æžé€Ÿ** Python åŒ…å’Œé¡¹ç›®ç®¡ç†å™¨ï¼Œæ—¨åœ¨æˆä¸º **pipã€pip-toolsã€pipxã€poetryã€pyenvã€virtualenv** ç­‰å¤šä¸ªå·¥å…·çš„ç»Ÿä¸€æ›¿ä»£æ–¹æ¡ˆã€‚

ç®€å•æ¥è¯´ï¼š**uv æ˜¯ Python çš„ Cargo** â€”â€” ä¸€ä¸ªå¿«é€Ÿã€å¯é ã€æ˜“ç”¨çš„ä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆã€‚

### æ ¸å¿ƒç‰¹ç‚¹

- âš¡ **æžè‡´é€Ÿåº¦**ï¼šæ¯” pip å¿« 10-100 å€
- ðŸ¦€ **Rust ç¼–å†™**ï¼šåˆ©ç”¨ Rust çš„æ€§èƒ½å’Œå†…å­˜å®‰å…¨ç‰¹æ€§
- ðŸŽ¯ **ä¸€ä½“åŒ–å·¥å…·**ï¼šæ›¿ä»£å¤šä¸ªå·¥å…·ï¼Œç®€åŒ–å·¥ä½œæµ
- ðŸ”’ **ä¾èµ–é”å®š**ï¼šè‡ªåŠ¨ç”Ÿæˆ `uv.lock` ç¡®ä¿çŽ¯å¢ƒä¸€è‡´æ€§
- ðŸ **Python ç‰ˆæœ¬ç®¡ç†**ï¼šå†…ç½® Python å®‰è£…å’Œç®¡ç†
- ðŸ’¾ **å…¨å±€ç¼“å­˜**ï¼šèŠ‚çœç£ç›˜ç©ºé—´ï¼Œé¿å…é‡å¤ä¸‹è½½
- ðŸ“¦ **æ ‡å‡†å…¼å®¹**ï¼šåŸºäºŽ `pyproject.toml` æ ‡å‡†

## ðŸ¢ èƒŒåŽçš„å…¬å¸ï¼šAstral

### å…¬å¸èƒŒæ™¯

uv ç”± **Astral** å…¬å¸å¼€å‘ï¼Œè¿™å®¶å…¬å¸ç”± **Charlie Marsh** äºŽ 2022 å¹´åˆ›ç«‹ã€‚

**èžèµ„æƒ…å†µï¼š**
- ðŸ’° 2023 å¹´å®Œæˆ **400 ä¸‡ç¾Žå…ƒç§å­è½®èžèµ„**
- ðŸŽ¯ é¢†æŠ•æ–¹ï¼š**Accel**ï¼ˆçŸ¥åé£ŽæŠ•å…¬å¸ï¼‰
- ðŸ¤ å‚æŠ•æ–¹åŒ…æ‹¬ï¼š
  - Caffeinated Capital
  - Guillermo Rauchï¼ˆVercel åˆ›å§‹äººï¼‰
  - Solomon Hykesï¼ˆDocker åˆ›å§‹äººï¼‰
  - David Cramerï¼ˆSentry åˆ›å§‹äººï¼‰
  - Wes McKinneyï¼ˆPandas ä½œè€…ï¼‰

### äº§å“çº¿

Astral çš„å¼€æºäº§å“ç”Ÿæ€ï¼š

1. **Ruff** - è¶…å¿«çš„ Python linter å’Œ formatter
   - å·²è¢« Airflowã€FastAPIã€Pandasã€SciPy ç­‰é‡‡ç”¨
   - Amazonã€Microsoftã€Netflixã€Mozilla ç­‰å…¬å¸åœ¨ä½¿ç”¨
   - æ¯å‘¨æ•°ç™¾ä¸‡æ¬¡ä¸‹è½½

2. **uv** - æžé€Ÿ Python åŒ…ç®¡ç†å™¨
   - 2024 å¹´ 2 æœˆé¦–æ¬¡å‘å¸ƒ
   - æŒç»­å¿«é€Ÿè¿­ä»£æ›´æ–°

3. **Rye**ï¼ˆå·²æ•´åˆåˆ° uvï¼‰- Python é¡¹ç›®ç®¡ç†å·¥å…·

### å•†ä¸šæ¨¡å¼

**æ ¸å¿ƒæ‰¿è¯ºï¼šå·¥å…·æ°¸ä¹…å…è´¹å¼€æº**

- âœ… æ‰€æœ‰å·¥å…·ä½¿ç”¨ **MIT è®¸å¯è¯**
- âœ… å®Œå…¨å¼€æºï¼Œå¯è‡ªç”±ä½¿ç”¨
- ðŸ’¼ æœªæ¥è®¡åˆ’æä¾›**ä¼ä¸šçº§æœåŠ¡**ï¼š
  - æŠ€æœ¯æ”¯æŒå’Œå’¨è¯¢
  - æ‰˜ç®¡æœåŠ¡ï¼ˆç±»ä¼¼ GitHub æ¨¡å¼ï¼‰
  - ç§æœ‰åŒ…ä»“åº“
  - CI/CD é›†æˆ
  - SLA ä¿éšœ

**ç±»ä¼¼æˆåŠŸæ¡ˆä¾‹ï¼š**
- Vercelï¼ˆNext.js å¼€æºï¼Œæ‰˜ç®¡æœåŠ¡æ”¶è´¹ï¼‰
- Dockerï¼ˆDocker å…è´¹ï¼Œä¼ä¸šç‰ˆæ”¶è´¹ï¼‰
- MongoDBï¼ˆæ•°æ®åº“å¼€æºï¼Œäº‘æœåŠ¡æ”¶è´¹ï¼‰

### å¼€æºè´¡çŒ®

Astral å»ºç«‹äº† **OSS Fundï¼ˆå¼€æºåŸºé‡‘ï¼‰**ï¼š
- æ¯å¹´ä¸ºæ¯ä½ Astral å‘˜å·¥æèµ  **$3,250** ç»™å¼€æºé¡¹ç›®
- æ¯å¹´å‘ **Python è½¯ä»¶åŸºé‡‘ä¼š**æèµ  **$5,000**
- æ¯å¹´å‘ **Rust åŸºé‡‘ä¼š**æèµ  **$5,000**


## uv ðŸ†š  å…¶ä»–å·¥å…·

### uv vs pip

| ç‰¹æ€§ | pip | uv |
|------|-----|-----|
| é€Ÿåº¦ | åŸºå‡† | **10-100x æ›´å¿«** |
| ä¾èµ–è§£æž | è¾ƒæ…¢ï¼Œæœ‰æ—¶ä¸å®Œæ•´ | å¿«é€Ÿä¸”å®Œæ•´ |
| é”å®šæ–‡ä»¶ | éœ€è¦ pip-tools | å†…ç½® `uv.lock` |
| ç¼“å­˜ | æ¯ä¸ªé¡¹ç›®ç‹¬ç«‹ | å…¨å±€ç¼“å­˜ï¼ŒèŠ‚çœç©ºé—´ |
| Python ç®¡ç† | ä¸æ”¯æŒ | âœ… å†…ç½® |
| è¯­è¨€ | Python | Rust |

### uv vs Poetry

| ç‰¹æ€§ | Poetry | uv |
|------|--------|-----|
| é€Ÿåº¦ | ä¸­ç­‰ | **æžå¿«** |
| é…ç½®æ–‡ä»¶ | pyproject.toml | pyproject.toml |
| é”å®šæ–‡ä»¶ | poetry.lock | uv.lock |
| Python ç®¡ç† | ä¸æ”¯æŒ | âœ… å†…ç½® |
| æ‰“åŒ…å‘å¸ƒ | âœ… å†…ç½® | âœ… `uv build`, `uv publish` |
| ç”Ÿæ€æˆç†Ÿåº¦ | é«˜ | å¿«é€Ÿå¢žé•¿ |

### uv vs Conda

| ç‰¹æ€§ | Conda | uv |
|------|-------|-----|
| é€Ÿåº¦ | è¾ƒæ…¢ | **æžå¿«** |
| åŒ…æ¥æº | conda-forge | PyPI |
| éž Python åŒ… | âœ… æ”¯æŒï¼ˆC++ã€CUDA ç­‰ï¼‰ | âŒ ä»… Python |
| Python ç®¡ç† | âœ… æ”¯æŒ | âœ… æ”¯æŒ |
| é€‚ç”¨åœºæ™¯ | æ•°æ®ç§‘å­¦ã€å¤æ‚ä¾èµ– | ä¸€èˆ¬ Python å¼€å‘ |

**é€‰æ‹©å»ºè®®ï¼š**
- çº¯ Python é¡¹ç›® â†’ **uv**
- éœ€è¦ CUDAã€C++ ç­‰ç³»ç»Ÿä¾èµ– â†’ **Conda**
- å›¢é˜Ÿå·²æœ‰ Poetry é¡¹ç›® â†’ å¯é€æ­¥è¿ç§»åˆ° **uv**


## ðŸ› ï¸ ä¸»è¦åŠŸèƒ½

### 1. åŒ…ç®¡ç†ï¼ˆpip æ›¿ä»£ï¼‰

```bash
# åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
uv venv

# æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒ
source .venv/bin/activate  # Linux/Mac
.venv\Scripts\activate     # Windows

# å®‰è£…åŒ…
uv pip install requests pandas numpy

# ç¼–è¯‘ä¾èµ–
uv pip compile requirements.in -o requirements.txt

# åŒæ­¥ä¾èµ–
uv pip sync requirements.txt
```

### 2. é¡¹ç›®ç®¡ç†ï¼ˆPoetry æ›¿ä»£ï¼‰

```bash
# åˆå§‹åŒ–é¡¹ç›®
uv init my-project
cd my-project

# æ·»åŠ ä¾èµ–
uv add requests
uv add --dev pytest

# ç§»é™¤ä¾èµ–
uv remove requests

# å®‰è£…æ‰€æœ‰ä¾èµ–
uv sync

# è¿è¡Œè„šæœ¬
uv run python app.py
uv run pytest
```

é¡¹ç›®ä¼šè‡ªåŠ¨ç”Ÿæˆï¼š
- `pyproject.toml` - é¡¹ç›®é…ç½®å’Œä¾èµ–å£°æ˜Ž
- `uv.lock` - ä¾èµ–é”å®šæ–‡ä»¶ï¼ˆç¡®ä¿å¯é‡çŽ°æ€§ï¼‰

### 3. Python ç‰ˆæœ¬ç®¡ç†ï¼ˆpyenv æ›¿ä»£ï¼‰

```bash
# å®‰è£… Python ç‰ˆæœ¬
uv python install 3.11 3.12 3.13

# åˆ—å‡ºå·²å®‰è£…çš„ Python
uv python list

# æŸ¥çœ‹å¯ç”¨çš„ Python ç‰ˆæœ¬
uv python list --all-versions

# ä½¿ç”¨ç‰¹å®š Python ç‰ˆæœ¬åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
uv venv --python 3.12

# ä½¿ç”¨ç‰¹å®š Python ç‰ˆæœ¬è¿è¡Œè„šæœ¬
uv run --python 3.11 python script.py
```

**æ³¨æ„ï¼š** uv ä½¿ç”¨ Astral çš„ [python-build-standalone](https://github.com/astral-sh/python-build-standalone) é¡¹ç›®æä¾›çš„é¢„ç¼–è¯‘ Python å‘è¡Œç‰ˆã€‚

### 4. å·¥å…·ç®¡ç†ï¼ˆpipx æ›¿ä»£ï¼‰

```bash
# åœ¨ä¸´æ—¶çŽ¯å¢ƒä¸­è¿è¡Œå·¥å…·ï¼ˆuvx æ˜¯ uv tool run çš„åˆ«åï¼‰
uvx ruff check
uvx black .
uvx pycowsay "Hello uv!"

# å…¨å±€å®‰è£…å·¥å…·
uv tool install ruff
uv tool install httpie

# åˆ—å‡ºå·²å®‰è£…çš„å·¥å…·
uv tool list

# å¸è½½å·¥å…·
uv tool uninstall ruff
```

### 5. è„šæœ¬ä¾èµ–ç®¡ç†

uv æ”¯æŒ **PEP 723** æ ‡å‡†ï¼Œå¯ä»¥åœ¨å•ä¸ªè„šæœ¬ä¸­å£°æ˜Žä¾èµ–ï¼š

```python
# /// script
# dependencies = [
#   "requests",
#   "rich",
# ]
# ///

import requests
from rich import print

response = requests.get("https://api.github.com")
print(response.json())
```

è¿è¡Œè„šæœ¬ï¼š

```bash
uv run script.py
```

uv ä¼šè‡ªåŠ¨ï¼š
1. è¯»å–è„šæœ¬ä¸­çš„ä¾èµ–å£°æ˜Ž
2. åˆ›å»ºä¸´æ—¶è™šæ‹ŸçŽ¯å¢ƒ
3. å®‰è£…ä¾èµ–
4. è¿è¡Œè„šæœ¬

### 6. å·¥ä½œåŒºï¼ˆWorkspaceï¼‰æ”¯æŒ

å¯¹äºŽ monorepo æˆ–å¤šåŒ…é¡¹ç›®ï¼š

```toml
# pyproject.toml
[tool.uv.workspace]
members = ["packages/*"]
```

uv ä¼šç»Ÿä¸€ç®¡ç†å·¥ä½œåŒºä¸­æ‰€æœ‰åŒ…çš„ä¾èµ–ã€‚

## ðŸ“¦ å®‰è£… uv

### å®˜æ–¹å®‰è£…è„šæœ¬ï¼ˆæŽ¨èï¼‰

**Linux / macOSï¼š**
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

**Windowsï¼ˆPowerShellï¼‰ï¼š**
```powershell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

### åŒ…ç®¡ç†å™¨å®‰è£…

```bash
# macOS (Homebrew)
brew install uv

# Python (pipx)
pipx install uv

# Python (pip) - éœ€è¦å·²æœ‰ Python çŽ¯å¢ƒ
pip install uv

# Cargo
cargo install --git https://github.com/astral-sh/uv uv
```

### æ›´æ–° uv

```bash
# ä½¿ç”¨å®˜æ–¹å®‰è£…è„šæœ¬å®‰è£…çš„
uv self update

# ä½¿ç”¨ pipx å®‰è£…çš„
pipx upgrade uv

# ä½¿ç”¨ pip å®‰è£…çš„
pip install --upgrade uv
```

## ðŸ“š å®žæˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹ 1ï¼šä»Ž pip è¿ç§»åˆ° uv

**åŽŸæœ‰é¡¹ç›®ç»“æž„ï¼š**
```
my-project/
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ requirements-dev.txt
â””â”€â”€ app.py
```

**è¿ç§»æ­¥éª¤ï¼š**

```bash
# 1. å®‰è£… uv
curl -LsSf https://astral.sh/uv/install.sh | sh

# 2. åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
uv venv

# 3. æ¿€æ´»çŽ¯å¢ƒ
source .venv/bin/activate

# 4. å®‰è£…ä¾èµ–
uv pip install -r requirements.txt
uv pip install -r requirements-dev.txt

# 5. (å¯é€‰) åˆå§‹åŒ–ä¸º uv é¡¹ç›®
uv init --no-readme

# 6. ä»Ž requirements.txt æ·»åŠ ä¾èµ–åˆ° pyproject.toml
uv add $(cat requirements.txt | grep -v '^#' | grep -v '^$')
```

### æ¡ˆä¾‹ 2ï¼šåˆ›å»ºæ–°é¡¹ç›®

```bash
# åˆ›å»ºé¡¹ç›®
uv init my-api
cd my-api

# æ·»åŠ ä¾èµ–
uv add fastapi uvicorn

# æ·»åŠ å¼€å‘ä¾èµ–
uv add --dev pytest pytest-cov ruff

# åˆ›å»º app.py
cat > app.py << 'EOF'
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
def read_root():
    return {"message": "Hello from uv!"}
EOF

# è¿è¡Œåº”ç”¨
uv run uvicorn app:app --reload
```

### æ¡ˆä¾‹ 3ï¼šç®¡ç†å¤šä¸ª Python ç‰ˆæœ¬

```bash
# å®‰è£…å¤šä¸ª Python ç‰ˆæœ¬
uv python install 3.9 3.10 3.11 3.12

# ä¸ºä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒç‰ˆæœ¬
cd project-a
uv venv --python 3.11
uv sync

cd ../project-b
uv venv --python 3.12
uv sync

# æµ‹è¯•è„šæœ¬åœ¨å¤šä¸ª Python ç‰ˆæœ¬ä¸Šè¿è¡Œ
uv run --python 3.9 pytest
uv run --python 3.10 pytest
uv run --python 3.11 pytest
```

### æ¡ˆä¾‹ 4ï¼šä½¿ç”¨ uvx è¿è¡Œä¸´æ—¶å·¥å…·

```bash
# ä¸éœ€è¦å®‰è£…ï¼Œç›´æŽ¥è¿è¡Œå·¥å…·
uvx httpie https://api.github.com
uvx black --check .
uvx ruff check src/

# ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬çš„å·¥å…·
uvx --from 'ruff==0.1.0' ruff check

# è¿è¡Œè¿œç¨‹è„šæœ¬
uvx --from 'requests' python -c "import requests; print(requests.get('https://httpbin.org/get').json())"
```

## âš™ï¸ é«˜çº§ç‰¹æ€§

### 1. ä¾èµ–è¦†ç›–ï¼ˆDependency Overridesï¼‰

åœ¨ `pyproject.toml` ä¸­å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬ï¼š

```toml
[tool.uv]
override-dependencies = [
    "numpy==1.24.0",  # å¼ºåˆ¶æ‰€æœ‰ä¾èµ–ä½¿ç”¨æ­¤ç‰ˆæœ¬
]
```

### 2. çº¦æŸæ–‡ä»¶ï¼ˆConstraintsï¼‰

```bash
# ä½¿ç”¨çº¦æŸæ–‡ä»¶é™åˆ¶ç‰ˆæœ¬èŒƒå›´
uv pip install -r requirements.txt -c constraints.txt
```

### 3. å¹³å°æ— å…³çš„ä¾èµ–è§£æž

```bash
# ä¸ºä¸åŒå¹³å°ç”Ÿæˆç»Ÿä¸€çš„é”å®šæ–‡ä»¶
uv pip compile requirements.in --universal -o requirements.txt
```

### 4. æºé…ç½®

```toml
# pyproject.toml
[[tool.uv.index]]
name = "pytorch"
url = "https://download.pytorch.org/whl/cpu"
```

### 5. çŽ¯å¢ƒå˜é‡é…ç½®

```bash
# è®¾ç½®ç¼“å­˜ç›®å½•
export UV_CACHE_DIR=/path/to/cache

# ç¦ç”¨è‡ªåŠ¨ä¸‹è½½ Python
export UV_PYTHON_DOWNLOADS=never

# è®¾ç½® pip æº
export UV_INDEX_URL=https://pypi.tuna.tsinghua.edu.cn/simple
```

## ðŸ”— å®˜æ–¹èµ„æº

### æ ¸å¿ƒé“¾æŽ¥

- ðŸ  **å®˜æ–¹ç½‘ç«™**: https://astral.sh
- ðŸ“– **å®˜æ–¹æ–‡æ¡£**: https://docs.astral.sh/uv/
- ðŸ’» **GitHub ä»“åº“**: https://github.com/astral-sh/uv
- ðŸ¦ **Twitter/X**: https://x.com/astral_sh
- ðŸ’¬ **Discord ç¤¾åŒº**: https://discord.gg/astral-sh

### æ–‡æ¡£å¯¼èˆª

- **å¿«é€Ÿå¼€å§‹**: https://docs.astral.sh/uv/getting-started/
- **å®‰è£…æŒ‡å—**: https://docs.astral.sh/uv/getting-started/installation/
- **é¡¹ç›®ç®¡ç†**: https://docs.astral.sh/uv/guides/projects/
- **Python å®‰è£…**: https://docs.astral.sh/uv/guides/install-python/
- **è„šæœ¬æ‰§è¡Œ**: https://docs.astral.sh/uv/guides/scripts/
- **å·¥å…·ç®¡ç†**: https://docs.astral.sh/uv/guides/tools/
- **å‘½ä»¤å‚è€ƒ**: https://docs.astral.sh/uv/reference/cli/

### ç›¸å…³é¡¹ç›®

- **Ruff** (Linter & Formatter): https://github.com/astral-sh/ruff
- **python-build-standalone**: https://github.com/astral-sh/python-build-standalone

### å­¦ä¹ èµ„æº

- **Astral åšå®¢**: https://astral.sh/blog
  - [uv å‘å¸ƒå…¬å‘Š](https://astral.sh/blog/uv)
  - [uv ç»Ÿä¸€ Python æ‰“åŒ…](https://astral.sh/blog/uv-unified-python-packaging)
- **Real Python æ•™ç¨‹**: https://realpython.com/python-uv/
- **GitHub Releases**: https://github.com/astral-sh/uv/releases

## â“ å¸¸è§é—®é¢˜

### Q: uv ç¨³å®šå—ï¼Ÿå¯ä»¥ç”¨äºŽç”Ÿäº§çŽ¯å¢ƒå—ï¼Ÿ

A: uv ç›®å‰å¤„äºŽå¿«é€Ÿå‘å±•é˜¶æ®µï¼Œä¸»è¦ API å·²ç»ç¨³å®šã€‚è®¸å¤šå…¬å¸å·²åœ¨ç”Ÿäº§çŽ¯å¢ƒä½¿ç”¨ã€‚å»ºè®®ï¼š
- âœ… æ–°é¡¹ç›®å¯ä»¥ç›´æŽ¥ä½¿ç”¨
- âš ï¸ é‡è¦ç”Ÿäº§é¡¹ç›®å»ºè®®å…ˆå°èŒƒå›´è¯•ç‚¹
- ðŸ“– å…³æ³¨ release notes å’Œ breaking changes

### Q: uv ä¼šå–ä»£ pip å—ï¼Ÿ

A: uv ä¸æ˜¯ Python å®˜æ–¹å·¥å…·ï¼Œä½†æä¾›äº† pip å…¼å®¹çš„æŽ¥å£ã€‚Python æ ¸å¿ƒå›¢é˜Ÿè¿˜åœ¨è§‚å¯Ÿç¤¾åŒºåé¦ˆã€‚ä¸è¿‡ï¼š
- uv å¯ä»¥ä¸Ž pip å…±å­˜
- `uv pip` å‘½ä»¤æä¾› pip å…¼å®¹æŽ¥å£
- å¯ä»¥éšæ—¶åˆ‡æ¢å›ž pip

### Q: å¦‚ä½•åœ¨ CI/CD ä¸­ä½¿ç”¨ uvï¼Ÿ

A: GitHub Actions ç¤ºä¾‹ï¼š

```yaml
name: CI
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Install uv
        run: curl -LsSf https://astral.sh/uv/install.sh | sh
      
      - name: Set up Python
        run: uv python install 3.12
      
      - name: Install dependencies
        run: uv sync
      
      - name: Run tests
        run: uv run pytest
```

### Q: uv çš„ç¼“å­˜å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

A: 
- **Linux**: `~/.cache/uv`
- **macOS**: `~/Library/Caches/uv`
- **Windows**: `%LOCALAPPDATA%\uv\cache`

æ¸…ç†ç¼“å­˜ï¼š`uv cache clean`

### Q: å¦‚ä½•è¿ç§»çŽ°æœ‰çš„ Poetry é¡¹ç›®ï¼Ÿ

A: Poetry é¡¹ç›®å·²ç»ä½¿ç”¨ `pyproject.toml`ï¼Œè¿ç§»å¾ˆç®€å•ï¼š

```bash
# 1. åˆ é™¤ Poetry çš„è™šæ‹ŸçŽ¯å¢ƒ
rm -rf .venv

# 2. ç”¨ uv åˆ›å»ºæ–°çŽ¯å¢ƒ
uv venv

# 3. å®‰è£…ä¾èµ–
uv sync

# 4. (å¯é€‰) åˆ é™¤ Poetry é…ç½®
# ä¿ç•™ pyproject.toml ä¸­çš„ [tool.poetry] ä¸ä¼šå½±å“ uv
```

### Q: uv æ”¯æŒç§æœ‰ PyPI æºå—ï¼Ÿ

A: å®Œå…¨æ”¯æŒï¼

```bash
# çŽ¯å¢ƒå˜é‡æ–¹å¼
export UV_INDEX_URL=https://pypi.company.com/simple

# æˆ–åœ¨ pyproject.toml ä¸­é…ç½®
[[tool.uv.index]]
url = "https://pypi.company.com/simple"
```

## ðŸŽ¯ æœ€ä½³å®žè·µ

### 1. é¡¹ç›®ç»“æž„å»ºè®®

```
my-project/
â”œâ”€â”€ .python-version      # æŒ‡å®š Python ç‰ˆæœ¬
â”œâ”€â”€ pyproject.toml       # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ uv.lock              # é”å®šä¾èµ–ï¼ˆæäº¤åˆ° Gitï¼‰
â”œâ”€â”€ .venv/               # è™šæ‹ŸçŽ¯å¢ƒï¼ˆæ·»åŠ åˆ° .gitignoreï¼‰
â”œâ”€â”€ src/
â”‚   â””â”€â”€ my_project/
â”‚       â””â”€â”€ __init__.py
â””â”€â”€ tests/
    â””â”€â”€ test_main.py
```

### 2. .gitignore é…ç½®

```gitignore
# Python
__pycache__/
*.py[cod]
*$py.class

# uv
.venv/
.python-version

# ä¸è¦å¿½ç•¥ uv.lockï¼
# uv.lock åº”è¯¥æäº¤åˆ°ç‰ˆæœ¬æŽ§åˆ¶
```

### 3. å›¢é˜Ÿåä½œ

**æŽ¨èå·¥ä½œæµï¼š**

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repo>
cd <project>

# 2. å®‰è£… uvï¼ˆå¦‚æžœæ²¡æœ‰ï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh

# 3. åŒæ­¥ä¾èµ–ï¼ˆuv ä¼šè‡ªåŠ¨å®‰è£… Python å’Œåˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒï¼‰
uv sync

# 4. å¼€å§‹å¼€å‘
uv run python -m my_project
```

### 4. ç‰ˆæœ¬å›ºå®šç­–ç•¥

**pyproject.toml:**
```toml
[project]
dependencies = [
    "fastapi>=0.100.0,<0.101.0",  # å…è®¸è¡¥ä¸ç‰ˆæœ¬æ›´æ–°
    "pydantic~=2.0.0",             # å…è®¸å…¼å®¹ç‰ˆæœ¬
]
```

**uv.lock ç¡®ä¿å®Œå…¨ä¸€è‡´çš„çŽ¯å¢ƒï¼**

### 5. å®šæœŸç»´æŠ¤

```bash
# æ£€æŸ¥è¿‡æœŸçš„åŒ…
uv pip list --outdated

# æ›´æ–°æ‰€æœ‰åŒ…åˆ°å…è®¸çš„æœ€æ–°ç‰ˆæœ¬
uv lock --upgrade

# æ›´æ–°ç‰¹å®šåŒ…
uv lock --upgrade-package requests

# å®¡è®¡å®‰å…¨æ¼æ´žï¼ˆéœ€è¦å…¶ä»–å·¥å…·å¦‚ pip-auditï¼‰
uvx pip-audit
```

## ðŸš€ æœªæ¥å±•æœ›

æ ¹æ® Astral å›¢é˜Ÿçš„è·¯çº¿å›¾å’Œç¤¾åŒºè®¨è®ºï¼Œuv æœªæ¥å¯èƒ½åŒ…æ‹¬ï¼š

1. âœ… **æž„å»ºå’Œå‘å¸ƒ**ï¼š`uv build` å’Œ `uv publish`ï¼ˆå·²å®žçŽ°ï¼‰
2. ðŸ”„ **æ›´å¥½çš„å·¥ä½œåŒºæ”¯æŒ**ï¼ˆæŒç»­æ”¹è¿›ä¸­ï¼‰
3. ðŸ” **å®‰å…¨å®¡è®¡é›†æˆ**
4. ðŸ“Š **ä¾èµ–å¯è§†åŒ–**
5. ðŸŒ **æ›´å¤šçš„ç´¢å¼•æºæ”¯æŒ**
6. ðŸ¤– **æ›´æ™ºèƒ½çš„ä¾èµ–è§£æž**

**ç¤¾åŒºè®¨è®ºï¼š**
- æœ‰è®¨è®ºè®© uv æˆä¸º Python å®˜æ–¹åŒ…ç®¡ç†å™¨ï¼ˆ[GitHub Issue](https://github.com/astral-sh/uv/issues/8931)ï¼‰
- Python æ ¸å¿ƒå›¢é˜Ÿæ­£åœ¨è§‚å¯Ÿ uv çš„å‘å±•

## ðŸ“Š é‡‡ç”¨æ¡ˆä¾‹

è™½ç„¶ uv ç›¸å¯¹è¾ƒæ–°ï¼Œä½†å·²æœ‰è®¸å¤šé¡¹ç›®å’Œå…¬å¸å¼€å§‹é‡‡ç”¨ï¼š

- ðŸ¢ **ä¼ä¸šç”¨æˆ·**ï¼šè®¸å¤šç§‘æŠ€å…¬å¸åœ¨å†…éƒ¨é¡¹ç›®ä¸­è¯•ç”¨
- ðŸ“¦ **å¼€æºé¡¹ç›®**ï¼šè¶Šæ¥è¶Šå¤šçš„ Python é¡¹ç›®è¿ç§»åˆ° uv
- ðŸŽ“ **æ•™è‚²æœºæž„**ï¼šç”¨äºŽæ•™å­¦å’Œç ”ç©¶é¡¹ç›®
- ðŸš€ **åˆåˆ›å…¬å¸**ï¼šæ–°é¡¹ç›®é¦–é€‰ uv ä½œä¸ºåŒ…ç®¡ç†å·¥å…·

**ç¤¾åŒºåé¦ˆï¼š**
- â­ GitHub ä¸Š 20,000+ starsï¼ˆæˆªè‡³ 2024 å¹´åº•ï¼‰
- ðŸ“ˆ æ¯å‘¨æ•°åä¸‡æ¬¡ä¸‹è½½
- ðŸ’¬ æ´»è·ƒçš„ Discord ç¤¾åŒº

## ðŸŽ“ æ€»ç»“

### uv çš„æ ¸å¿ƒä»·å€¼

1. **é€Ÿåº¦é©å‘½**ï¼š10-100x çš„æ€§èƒ½æå‡çœŸå®žæ”¹å˜å¼€å‘ä½“éªŒ
2. **ç®€åŒ–å·¥å…·é“¾**ï¼šä¸€ä¸ªå·¥å…·æ›¿ä»£å¤šä¸ªï¼Œé™ä½Žè®¤çŸ¥è´Ÿæ‹…
3. **çŽ°ä»£åŒ–è®¾è®¡**ï¼šå­¦ä¹ æœ€ä½³å®žè·µï¼Œæ ‡å‡†å…¼å®¹
4. **å¯é æ€§**ï¼šRust ä¿è¯çš„å†…å­˜å®‰å…¨å’Œç¨³å®šæ€§
5. **å¼€æºæ‰¿è¯º**ï¼šæ°¸ä¹…å…è´¹ï¼Œç¤¾åŒºé©±åŠ¨

### é€‚åˆä½¿ç”¨ uv çš„åœºæ™¯

âœ… **å¼ºçƒˆæŽ¨èï¼š**
- æ–°çš„ Python é¡¹ç›®
- è¿½æ±‚é«˜æ•ˆçš„ä¸ªäººå¼€å‘è€…
- éœ€è¦ç®¡ç†å¤šä¸ª Python ç‰ˆæœ¬
- CI/CD æµç¨‹ä¼˜åŒ–

âš ï¸ **è°¨æ…Žä½¿ç”¨ï¼š**
- éœ€è¦éž Python åŒ…çš„é¡¹ç›®ï¼ˆè€ƒè™‘ Condaï¼‰
- é«˜åº¦ä¾èµ–ç‰¹å®šå·¥å…·çš„æ—§é¡¹ç›®
- å›¢é˜Ÿä¸æ„¿æ„å°è¯•æ–°å·¥å…·
